"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7229],{83636:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M762 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm-508 0v72.4c0 9.5 4.2 18.4 11.4 24.5L564.6 512 265.4 763.1c-7.2 6.1-11.4 15-11.4 24.5V860c0 6.8 7.9 10.5 13.1 6.1L689 512 267.1 157.9A7.95 7.95 0 00254 164z"}}]},name:"vertical-left",theme:"outlined"}},28430:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=r?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}(n(67294)),r=l(n(83636)),s=l(n(92074));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=a.forwardRef(function(e,t){var n,l;return a.createElement(s.default,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){var a;a=n[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}({},e),l=l={ref:t,icon:r.default},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))})},90455:function(e,t,n){n.d(t,{Rl:function(){return l},p6:function(){return s}});var a=n(30381),r=n.n(a);let s=e=>r()(e).format("DD/MM/YYYY"),l=e=>{if(!e)return;let t=e.toLocaleLowerCase().split(" "),n="";for(let e of t)n+=e[0].toUpperCase()+e.slice(1)+" ";return n.trim()}},37229:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var a=n(35944),r=n(82729),s=n(36407),l=n(5789),o=n(74253),i=n(56590),c=n(55673),u=n(20838),d=n(53740),p=n(11163),f=n(67294),h=n(84626),m=n(34317),b=n(90455),_=n(70351),v=n(32253),O=n(65132),g=n(12362),E=n(61093),A=n(49031),N=n(28430),y=n(40355),Z=n(70917),x=n(24519),w=n(20768),C=n(59137),L=n(41407),I=n(79977);function B(){let e=(0,r._)(["\n        // max-width: 70%;\n        text-align: left;\n        .ant-breadcrumb {\n          font-size: 20px;\n          font-weight: 600;\n        }\n\n        .ant-btn-primary,\n        .class-btn {\n          width: 180px;\n          height: 45px !important;\n          border-radius: 2px;\n          background-color: "," !important;\n          background-color: ","!important;\n          background-color: "," !important;\n          background-color: "," !important;\n          color: #000 !important;\n          font-weight: 700;\n          letter-spacing: 3px;\n          letter-spacing: ",";\n\n          border-radius: 4px;\n          &:hover {\n            letter-spacing: ",";\n            /* background-color: ",";\n            background-color: ",";\n            background-color: ",";\n            background-color: ","; */\n          }\n\n          .anticon-loading {\n            font-size: 18px;\n          }\n        }\n        .content-wrapper {\n          font-size: 15px;\n          .anticon {\n            font-size: 25px;\n          }\n          .content-detail {\n            border: 1px solid #000;\n            border-left: none;\n            border-right: none;\n            padding: 20px 5px;\n          }\n        }\n        a.ant-btn {\n          padding-top: 8px !important;\n        }\n        .ant-page-header {\n        }\n        .course_info {\n          height: 450px;\n          margin: 10px 0;\n          .ant-image {\n            height: 450px;\n            width: 100%;\n            .thumbnail {\n              height: 100%;\n              border-radius: 10px;\n            }\n          }\n          .lessons {\n            max-height: 100%;\n            overflow: auto;\n          }\n        }\n        .list_lesson_header {\n          text-align: center;\n          font-size: 14px;\n          font-weight: 550;\n        }\n        .list_lesson {\n          padding: 0 15px;\n        }\n        @media (max-width: 992px) {\n          .thumbnail_wrapper {\n            display: none;\n          }\n        }\n        // .comment-list {\n        // 	max-height: 40vh;\n        // 	overflow: auto;\n        // }\n        .ant-tooltip-content {\n          min-width: 280px;\n        }\n        .add-btn {\n          display: flex;\n          align-items: center;\n          justify-content: space-evenly;\n        }\n      "]);return B=function(){return e},e}let{Paragraph:T}=d.default,P=e=>{let{children:t,extraContent:n}=e;return(0,a.BX)(c.Z,{children:[(0,a.tZ)("div",{style:{flex:1},children:t}),(0,a.tZ)("div",{className:"image",children:n})]})};var S=()=>{var e,t,n,r,d,S;let[D,j]=(0,f.useState)({}),[k,R]=(0,f.useState)(!1),q=(0,p.useRouter)(),U=null!==(S=null===(n=q.query)||void 0===n?void 0:null===(t=n.id)||void 0===t?void 0:null===(e=t.toString)||void 0===e?void 0:e.call(t))&&void 0!==S?S:"",G=q.pathname.includes(_.Z.CLASS),[V,M]=(0,f.useState)(x.Im.AVAILABLE),H=async e=>{try{if(G){let t=await h.Z.getClassDetail(e);j(t)}else{let t=await h.Z.getCourseDetail(e);j(t)}}catch(e){var t,n;(0,w.lQ)("Error",null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.detail,()=>q.back())}};(0,f.useEffect)(()=>{H(U)},[]);let z=(0,a.tZ)("div",{className:"content-wrapper",children:(0,a.BX)("div",{className:"content-detail",children:[(0,a.BX)(T,{children:[(0,a.tZ)(O.default,{}),null==D?void 0:D.description]}),(0,a.BX)("div",{children:[(0,a.tZ)(v.default,{}),"  Ng\xe0y cập nhật: ".concat((0,b.p6)(null==D?void 0:D.modified))]})]})}),X=async()=>{if(D.sale_status!==m.NO.BOUGHT&&D.request_status!==m.eE.ACCEPTED){R(!0);try{if(G){let e=await h.Z.requestJoinClass(U);j(t=>({...t,request_status:e.request_status}))}else{let e={};D.sale_status===m.NO.AVAILABLE?e=await h.Z.moveCourse(D.id,m.vY.LIST,m.vY.CART):D.sale_status===m.NO.IN_CART&&(e=await h.Z.moveCourse(D.id,m.vY.CART,m.vY.LIST)),j(e)}}catch(e){console.log("error",e),R(!1)}finally{R(!1)}}else q.push("".concat(_.Z.COURSE_PROGRESS,"?id=").concat(D.id,"&isClass=").concat(G))};(0,f.useEffect)(()=>{G?D.request_status===m.eE.REQUESTED?M(x.Im.REQUESTED):D.request_status===m.eE.AVAILABLE?M(x.Im.AVAILABLE_REQUEST):D.request_status===m.eE.ACCEPTED&&M(x.Im.BOUGHT):D.sale_status===m.NO.AVAILABLE?M(x.Im.AVAILABLE):D.sale_status===m.NO.IN_CART?M(x.Im.IN_CART):D.sale_status===m.NO.PENDING?M(x.Im.PENDING):D.sale_status===m.NO.BOUGHT&&M(x.Im.BOUGHT)},[D]);let Y=[{label:"B\xecnh luận",key:"comment",children:(0,a.tZ)(L.Z,{})}];return(0,a.BX)("div",{className:"page-container",css:(0,Z.iv)(B(),D.sale_status===m.NO.AVAILABLE||D.request_status===m.eE.AVAILABLE?"#17a2b8":"",D.sale_status===m.NO.IN_CART||D.request_status===m.eE.REQUESTED?"#ed5e68":"",D.sale_status===m.NO.PENDING?"#6c757d":"",D.sale_status===m.NO.BOUGHT||D.request_status===m.eE.ACCEPTED?"#28a745":"",G?"0px":"3px",G?"1px":"6px",D.sale_status===m.NO.AVAILABLE||D.request_status===m.eE.AVAILABLE?"#17a2b8":"",D.sale_status===m.NO.IN_CART||D.request_status===m.eE.REQUESTED?"#ed5e68":"",D.sale_status===m.NO.PENDING&&"#6c757d",D.sale_status===m.NO.BOUGHT||D.request_status===m.eE.ACCEPTED&&"#28a745"),children:[(0,a.tZ)(o.Z,{orientation:"left",children:(0,a.BX)(s.Z,{separator:(0,a.tZ)(A.default,{}),children:[(0,a.tZ)(s.Z.Item,{href:_.Z.HOME,children:"Trang ch\xednh"}),G?(0,a.tZ)(s.Z.Item,{href:"".concat(_.Z.CLASS,"?class=ALL"),children:"Lớp học"}):(0,a.tZ)(s.Z.Item,{href:"".concat(_.Z.COURSE,"?course=ALL"),children:"Kho\xe1 học"}),(0,a.tZ)(s.Z.Item,{children:null==D?void 0:null===(r=D.topic)||void 0===r?void 0:r.name})]})}),(0,a.BX)(y.m,{title:null==D?void 0:D.name,className:"site-page-header",avatar:{src:"".concat(null===(d=D.thumbnail)||void 0===d?void 0:d.image_path),shape:"square"},extra:[(0,a.BX)(C.Z,{className:"class-btn card-btn",btnTextColor:"white",btnStyle:"outline",btnSize:"small",btnWidth:"full-w",loading:k,onClick:X,children:[V,D.sale_status===m.NO.AVAILABLE?(0,a.tZ)(E.default,{}):D.sale_status===m.NO.IN_CART?(0,a.tZ)(g.default,{}):D.sale_status===m.NO.BOUGHT?(0,a.tZ)(N.default,{}):""]},2)],children:[(0,a.tZ)(P,{extraContent:void 0,children:z}),(0,a.tZ)(c.Z,{className:"course_info",children:(0,a.BX)(l.Z,{lg:24,md:24,className:"lessons",children:[(0,a.tZ)("p",{className:"list_lesson_header",children:"C\xe1c b\xe0i học trong kho\xe1"}),(0,a.tZ)(i.Z,{className:"list_lesson",itemLayout:"horizontal",dataSource:null==D?void 0:D.lessons,renderItem:(e,t)=>(0,a.tZ)(I.Z,{lesson:e,isCourseDetail:!0,index:t,isShowLessonDetail:D.sale_status===m.NO.BOUGHT||!!D.request_status})})]})})]}),(D.request_status===m.eE.ACCEPTED||D.sale_status===m.NO.BOUGHT)&&(0,a.tZ)(u.default,{items:Y,className:"tab-section"})]})},D=()=>(0,a.tZ)("div",{children:(0,a.tZ)(S,{})})}}]);